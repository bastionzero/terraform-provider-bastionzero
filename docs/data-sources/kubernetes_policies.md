---
page_title: "bastionzero_kubernetes_policies Data Source - terraform-provider-bastionzero"
subcategory: "policy"
description: |-
  Get a list of all Kubernetes policies in your BastionZero organization. A Kubernetes policy provides access to Cluster targets.
---

# bastionzero_kubernetes_policies (Data Source)

Get a list of all Kubernetes policies in your BastionZero organization. A Kubernetes policy provides access to `Cluster` targets.

This data source is useful if the policies in question are not managed by
Terraform, or you need to utilize any of the policies' data.

Note: You can use the [`bastionzero_kubernetes_policy`](kubernetes_policy) data
source to obtain metadata about a single policy if you already know the `id`.

## Example Usage

### Basic example

```terraform
data "bastionzero_kubernetes_policies" "example" {}

# Find all Kubernetes policies whose lists of cluster groups contain
# "system:masters"
locals {
  sudo_policies = [
    for each in data.bastionzero_kubernetes_policies.example.policies
    : each if contains(each.cluster_groups, "system:masters")
  ]
}
```

### Get the policy by name

```terraform
# Using Terraform >= 1.x syntax

data "bastionzero_kubernetes_policies" "example" {}

# Find policy with specific name. `policy` is null if not found.
locals {
  policy = one([
    for each in data.bastionzero_kubernetes_policies.example.policies
    : each if each.name == "example-policy"
  ])
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `filter_groups` (Set of String) Filters the list of policies to only those that contain the provided group ID(s).
- `filter_subjects` (Set of String) Filters the list of policies to only those that contain the provided subject ID(s). The IDs must correspond to subjects that exist in your organization otherwise an error is returned.

### Read-Only

- `id` (String, Deprecated) Deprecated. Do not depend on this attribute. This attribute will be removed in the future.
- `policies` (Attributes List) List of Kubernetes policies. (see [below for nested schema](#nestedatt--policies))

<a id="nestedatt--policies"></a>
### Nested Schema for `policies`

Read-Only:

- `cluster_groups` (Set of String) Set of Kubernetes RBAC subject group names that this policy applies to. See https://kubernetes.io/docs/reference/access-authn-authz/rbac/#referring-to-subjects for more details.
- `cluster_users` (Set of String) Set of Kubernetes RBAC subject usernames that this policy applies to. See https://kubernetes.io/docs/reference/access-authn-authz/rbac/#referring-to-subjects for more details.
- `clusters` (Set of String) Set of Cluster target ID(s) that this policy applies to.
- `description` (String) The policy's description.
- `environments` (Set of String) Set of environments that this policy applies to.
- `groups` (Attributes Set) Set of Identity Provider (IdP) groups that this policy applies to. (see [below for nested schema](#nestedatt--policies--groups))
- `id` (String) The policy's unique ID.
- `name` (String) The policy's name.
- `subjects` (Attributes Set) Set of subjects that this policy applies to. (see [below for nested schema](#nestedatt--policies--subjects))
- `type` (String) The policy's type (constant value "Kubernetes").

<a id="nestedatt--policies--groups"></a>
### Nested Schema for `policies.groups`

Read-Only:

- `id` (String) The group's unique ID.
- `name` (String) The group's name.


<a id="nestedatt--policies--subjects"></a>
### Nested Schema for `policies.subjects`

Read-Only:

- `id` (String) The subject's unique ID.
- `type` (String) The subject's type (one of "User", "ApiKey", or "ServiceAccount").